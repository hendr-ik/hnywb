!function(){"use strict";function e(e,t){return function(){return t(e.apply(void 0,arguments))}}function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r){function o(){l===f&&(l=f.slice())}function u(){return s}function d(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return o(),l.push(e),function(){if(t){t=!1,o();var n=l.indexOf(e);l.splice(n,1)}}}function i(e){if(!(0,G.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,s=c(s,e)}finally{p=!1}for(var t=f=l,n=0;n<t.length;n++)(0,t[n])();return e}var a;if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(n)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,s=t,f=[],l=f,p=!1;return i({type:K.INIT}),a={dispatch:i,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,i({type:K.INIT})}},a[V.default]=function(){var e,t=d;return e={subscribe:function(e){function n(){e.next&&e.next(u())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[V.default]=function(){return this},e},a}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(De===setTimeout)return setTimeout(e,0);if((De===i||!De)&&setTimeout)return De=setTimeout,setTimeout(e,0);try{return De(e,0)}catch(t){try{return De.call(null,e,0)}catch(t){return De.call(this,e,0)}}}function s(){Be&&Le&&(Be=!1,Le.length?Fe=Le.concat(Fe):He=-1,Fe.length&&f())}function f(){if(!Be){var e=c(s);Be=!0;for(var t=Fe.length;t;){for(Le=Fe,Fe=[];++He<t;)Le&&Le[He].run();He=-1,t=Fe.length}Le=null,Be=!1,function(e){if(Re===clearTimeout)return clearTimeout(e);if((Re===a||!Re)&&clearTimeout)return Re=clearTimeout,clearTimeout(e);try{Re(e)}catch(t){try{return Re.call(null,e)}catch(t){return Re.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function p(){}function h(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}function b(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function y(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var v=function(e){return function(t,n,r){return t({type:"MESSAGE_SUBMISSION",payload:{type:"text",payload:e}}),t({type:"SEND_MESSAGE_REQUEST"}),r.submit(e).then(function(e){t({type:"SEND_MESSAGE_SUCCESS",payload:e.messages})},function(e){t({type:"SEND_MESSAGE_ERROR",payload:e,error:!0})})}},g={exports:{}};!function(){function e(e,t){var n,r,o,u,d=O;for(u=arguments.length;u-- >2;)S.push(arguments[u]);for(t&&null!=t.children&&(S.length||S.push(t.children),delete t.children);S.length;)if((r=S.pop())&&void 0!==r.pop)for(u=r.length;u--;)S.push(r[u]);else"boolean"==typeof r&&(r=null),(o="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(o=!1)),o&&n?d[d.length-1]+=r:d===O?d=[r]:d.push(r),n=o;var i=new function(){};return i.nodeName=e,i.children=d,i.attributes=null==t?void 0:t,i.key=null==t?void 0:t.key,void 0!==x.vnode&&x.vnode(i),i}function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){!e.__d&&(e.__d=!0)&&1==j.push(e)&&(x.debounceRendering||E)(r)}function r(){var e,t=j;for(j=[];e=t.pop();)e.__d&&m(e)}function o(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&u(e,t.nodeName):n||e._componentConstructor===t.nodeName}function u(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function d(e){var n=t({},e.attributes);n.children=e.children;var r=e.nodeName.defaultProps;if(void 0!==r)for(var o in r)void 0===n[o]&&(n[o]=r[o]);return n}function i(e){var t=e.parentNode;t&&t.removeChild(e)}function a(e,t,n,r,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||o)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var u in n)u in r||(e.style[u]="");for(var u in r)e.style[u]="number"==typeof r[u]&&!1===C.test(u)?r[u]+"px":r[u]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var d=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,c,d):e.removeEventListener(t,c,d),(e.__l||(e.__l={}))[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e)!function(e,t,n){try{e[t]=n}catch(e){}}(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var i=o&&t!==(t=t.replace(/^xlink\:?/,""));null==r||!1===r?i?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(i?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function c(e){return this.__l[e.type](x.event&&x.event(e)||e)}function s(){for(var e;e=k.pop();)x.afterMount&&x.afterMount(e),e.componentDidMount&&e.componentDidMount()}function f(e,t,n,r,o,u){P++||(T=null!=o&&void 0!==o.ownerSVGElement,N=null!=e&&!("__preactattr_"in e));var d=l(e,t,n,r,u);return o&&d.parentNode!==o&&o.appendChild(d),--P||(N=!1,u||s()),d}function l(e,t,n,r,c){var s=e,f=T;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||c)?e.nodeValue!=t&&(e.nodeValue=t):(s=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(s,e),p(e,!0))),s.__preactattr_=!0,s;var h=t.nodeName;if("function"==typeof h)return function(e,t,n,r){for(var o=e&&e._component,u=o,i=e,a=o&&e._componentConstructor===t.nodeName,c=a,s=d(t);o&&!c&&(o=o.__u);)c=o.constructor===t.nodeName;return o&&c&&(!r||o._component)?(v(o,s,3,n,r),e=o.base):(u&&!a&&(_(u),e=i=null),o=b(t.nodeName,s,n),e&&!o.__b&&(o.__b=e,i=null),v(o,s,1,n,r),e=o.base,i&&e!==i&&(i._component=null,p(i,!1))),e}(e,t,n,r);if(T="svg"===h||"foreignObject"!==h&&T,h=String(h),(!e||!u(e,h))&&(s=function(e,t){var n=T?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.__n=e,n}(h),e)){for(;e.firstChild;)s.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(s,e),p(e,!0)}var y=s.firstChild,g=s.__preactattr_,m=t.children;if(null==g){g=s.__preactattr_={};for(var w=s.attributes,x=w.length;x--;)g[w[x].name]=w[x].value}return!N&&m&&1===m.length&&"string"==typeof m[0]&&null!=y&&void 0!==y.splitText&&null==y.nextSibling?y.nodeValue!=m[0]&&(y.nodeValue=m[0]):(m&&m.length||null!=y)&&function(e,t,n,r,u){var d,a,c,s,f,h=e.childNodes,b=[],y={},v=0,g=0,m=h.length,_=0,w=t?t.length:0;if(0!==m)for(E=0;E<m;E++){var x=h[E],S=x.__preactattr_;null!=(O=w&&S?x._component?x._component.__k:S.key:null)?(v++,y[O]=x):(S||(void 0!==x.splitText?!u||x.nodeValue.trim():u))&&(b[_++]=x)}if(0!==w)for(E=0;E<w;E++){f=null;var O=(s=t[E]).key;if(null!=O)v&&void 0!==y[O]&&(f=y[O],y[O]=void 0,v--);else if(!f&&g<_)for(d=g;d<_;d++)if(void 0!==b[d]&&o(a=b[d],s,u)){f=a,b[d]=void 0,d===_-1&&_--,d===g&&g++;break}f=l(f,s,n,r),c=h[E],f&&f!==e&&f!==c&&(null==c?e.appendChild(f):f===c.nextSibling?i(c):e.insertBefore(f,c))}if(v)for(var E in y)void 0!==y[E]&&p(y[E],!1);for(;g<=_;)void 0!==(f=b[_--])&&p(f,!1)}(s,m,n,r,N||null!=g.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||a(e,r,n[r],n[r]=void 0,T);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||a(e,r,n[r],n[r]=t[r],T)}(s,t.attributes,g),T=f,s}function p(e,t){var n=e._component;n?_(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||i(e),h(e))}function h(e){for(e=e.lastChild;e;){var t=e.previousSibling;p(e,!0),e=t}}function b(e,t,n){var r,o=A[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),w.call(r,t,n)):((r=new w(t,n)).constructor=e,r.render=y),o)for(var u=o.length;u--;)if(o[u].constructor===e){r.__b=o[u].__b,o.splice(u,1);break}return r}function y(e,t,n){return this.constructor(e,n)}function v(e,t,r,o,u){e.__x||(e.__x=!0,(e.__r=t.ref)&&delete t.ref,(e.__k=t.key)&&delete t.key,!e.base||u?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.__c||(e.__c=e.context),e.context=o),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==r&&(1!==r&&!1===x.syncComponentUpdates&&e.base?n(e):m(e,1,u)),e.__r&&e.__r(e))}function m(e,n,r,o){if(!e.__x){var u,i,a,c=e.props,l=e.state,h=e.context,y=e.__p||c,g=e.__s||l,w=e.__c||h,S=e.base,O=e.__b,E=S||O,C=e._component,j=!1;if(S&&(e.props=y,e.state=g,e.context=w,2!==n&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,l,h)?j=!0:e.componentWillUpdate&&e.componentWillUpdate(c,l,h),e.props=c,e.state=l,e.context=h),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!j){u=e.render(c,l,h),e.getChildContext&&(h=t(t({},h),e.getChildContext()));var T,N,A=u&&u.nodeName;if("function"==typeof A){var M=d(u);(i=C)&&i.constructor===A&&M.key==i.__k?v(i,M,1,h,!1):(T=i,e._component=i=b(A,M,h),i.__b=i.__b||O,i.__u=e,v(i,M,0,h,!1),m(i,1,r,!0)),N=i.base}else a=E,(T=C)&&(a=e._component=null),(E||1===n)&&(a&&(a._component=null),N=f(a,u,h,r||!S,E&&E.parentNode,!0));if(E&&N!==E&&i!==C){var D=E.parentNode;D&&N!==D&&(D.replaceChild(N,E),T||(E._component=null,p(E,!1)))}if(T&&_(T),e.base=N,N&&!o){for(var R=e,I=e;I=I.__u;)(R=I).base=N;N._component=R,N._componentConstructor=R.constructor}}if(!S||r?k.unshift(e):j||(e.componentDidUpdate&&e.componentDidUpdate(y,g,w),x.afterUpdate&&x.afterUpdate(e)),null!=e.__h)for(;e.__h.length;)e.__h.pop().call(e);P||o||s()}}function _(e){x.beforeUnmount&&x.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?_(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.__b=t,i(t),function(e){var t=e.constructor.name;(A[t]||(A[t]=[])).push(e)}(e),h(t)),e.__r&&e.__r(null)}function w(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{}}var x={},S=[],O=[],E="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,C=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,j=[],k=[],P=0,T=!1,N=!1,A={};t(w.prototype,{setState:function(e,r){var o=this.state;this.__s||(this.__s=t({},o)),t(o,"function"==typeof e?e(o,this.props):e),r&&(this.__h=this.__h||[]).push(r),n(this)},forceUpdate:function(e){e&&(this.__h=this.__h||[]).push(e),m(this,2)},render:function(){}});var M={h:e,createElement:e,cloneElement:function(n,r){return e(n.nodeName,t(t({},n.attributes),r),arguments.length>2?[].slice.call(arguments,2):n.children)},Component:w,render:function(e,t,n){return f(n,e,{},!1,t,!1)},rerender:r,options:x};g.exports=M}(),g=g.exports;var m={};m.__esModule=!0,m.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})};var _={};_.__esModule=!0;var w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};_.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var u=e(n,r,o),d=u.dispatch,i=[],a={getState:u.getState,dispatch:function(e){return d(e)}};return i=t.map(function(e){return e(a)}),d=x.default.apply(void 0,i)(u.dispatch),w({},u,{dispatch:d})}}};var x=function(e){return e&&e.__esModule?e:{default:e}}(m),S={};S.__esModule=!0,S.default=function(t,n){if("function"==typeof t)return e(t,n);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),o={},u=0;u<r.length;u++){var d=r[u],i=t[d];"function"==typeof i&&(o[d]=e(i,n))}return o};var O={};(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;O=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var E="object"==typeof self&&self&&self.Object===Object&&self,C=(O||E||Function("return this")()).Symbol,j=C,k=Object.prototype,P=k.hasOwnProperty,T=k.toString,N=j?j.toStringTag:void 0,A=Object.prototype.toString,M=j?j.toStringTag:void 0,D=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":M&&M in Object(e)?function(e){var t=P.call(e,N),n=e[N];try{e[N]=void 0;var r=!0}catch(e){}var o=T.call(e);return r&&(t?e[N]=n:delete e[N]),o}(e):function(e){return A.call(e)}(e)},R=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),I=Function.prototype,U=Object.prototype,L=I.toString,F=U.hasOwnProperty,B=L.call(Object),H=function(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||"[object Object]"!=D(e))return!1;var t=R(e);if(null===t)return!0;var n=F.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&L.call(n)==B},W={};Object.defineProperty(W,"__esModule",{value:!0}),W.default=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t};var q={exports:{}};(function(e){Object.defineProperty(q.exports,"__esModule",{value:!0});var t,n=function(e){return e&&e.__esModule?e:{default:e}}(W);t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:q;var r=(0,n.default)(t);q.exports.default=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),q=q.exports;var z={};z.__esModule=!0,z.ActionTypes=void 0,z.default=n;var G=t(H),V=t(q),K=z.ActionTypes={INIT:"@@redux/INIT"},Y={};Y.__esModule=!0,Y.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}};var J={};J.__esModule=!0,J.default=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var u=t[r];"function"==typeof e[u]&&(n[u]=e[u])}var d=Object.keys(n),i=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:z.ActionTypes.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+z.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){i=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(i)throw i;for(var r=!1,u={},a=0;a<d.length;a++){var c=d[a],s=n[c],f=e[c],l=s(f,t);if(void 0===l){var p=o(c,t);throw new Error(p)}u[c]=l,r=r||l!==f}return r?u:e}},r(H),r(Y);var Q={};Q.__esModule=!0,Q.compose=Q.applyMiddleware=Q.bindActionCreators=Q.combineReducers=Q.createStore=void 0;var $=u(z),X=u(J),Z=u(S),ee=u(_),te=u(m);u(Y),Q.createStore=$.default,Q.combineReducers=X.default,Q.bindActionCreators=Z.default,Q.applyMiddleware=ee.default,Q.compose=te.default;var ne={exports:{}};(function(e){!function(e,t){"object"==typeof ne.exports?ne.exports=t(g,Q):"function"==typeof define&&define.amd?define(["preact","redux"],t):e.preactRedux=t(e.preact,e.Redux)}(this,function(t,n){function r(){}function o(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function u(){}function d(e){var n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=o.getDisplayName,i=void 0===d?function(e){return"ConnectAdvanced("+e+")"}:d,a=o.methodName,c=void 0===a?"connectAdvanced":a,s=o.renderCountProp,f=void 0===s?void 0:s,l=o.shouldHandleStateChanges,p=void 0===l||l,h=o.storeKey,b=void 0===h?"store":h,y=o.withRef,v=void 0!==y&&y,g=j(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),m=b+"Subscription",x=q++,C=(n={},n[b]=w,n[m]=_,n),P=(r={},r[m]=_,r);return function(n){B("function"==typeof n,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(n));var r=n.displayName||n.name||"Component",o=i(r),d=O({},g,{getDisplayName:i,methodName:c,renderCountProp:f,shouldHandleStateChanges:p,storeKey:b,withRef:v,displayName:o,wrappedComponentName:r,WrappedComponent:n}),a=function(r){function i(e,t){S(this,i);var n=k(this,r.call(this,e,t));return n.version=x,n.state={},n.renderCount=0,n.store=e[b]||t[b],n.propsMode=Boolean(e[b]),n.setWrappedInstance=n.setWrappedInstance.bind(n),B(n.store,'Could not find "'+b+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+b+'" as a prop to "'+o+'".'),n.initSelector(),n.initSubscription(),n}return E(i,r),i.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[m]=t||this.context[m],e},i.prototype.componentDidMount=function(){p&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},i.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},i.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},i.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=u,this.store=null,this.selector.run=u,this.selector.shouldComponentUpdate=!1},i.prototype.getWrappedInstance=function(){return B(v,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+c+"() call."),this.wrappedInstance},i.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},i.prototype.initSelector=function(){var t=e(this.store.dispatch,d);this.selector=function(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},i.prototype.initSubscription=function(){if(p){var e=(this.propsMode?this.props:this.context)[m];this.subscription=new W(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},i.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(z)):this.notifyNestedSubs()},i.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},i.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},i.prototype.addExtraProps=function(e){if(!(v||f||this.propsMode&&this.subscription))return e;var t=O({},e);return v&&(t.ref=this.setWrappedInstance),f&&(t[f]=this.renderCount++),this.propsMode&&this.subscription&&(t[m]=this.subscription),t},i.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return t.h(n,this.addExtraProps(e.props))},i}(t.Component);return a.WrappedComponent=n,a.displayName=o,a.childContextTypes=P,a.contextTypes=C,a.prototype.componentWillUpdate=function(){var e=this;if(this.version!==x){this.version=x,this.initSelector();var t=[];this.subscription&&(t=this.subscription.listeners.get(),this.subscription.tryUnsubscribe()),this.initSubscription(),p&&(this.subscription.trySubscribe(),t.forEach(function(t){return e.subscription.listeners.subscribe(t)}))}},F(a,n)}}function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function a(e,t){if(i(e,t))return!0;if("object"!==(void 0===e?"undefined":x(e))||null===e||"object"!==(void 0===t?"undefined":x(t))||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!G.call(t,n[o])||!i(e[n[o]],t[n[o]]))return!1;return!0}function c(e){if(null==e||"object"!=(void 0===e?"undefined":x(e))||function(e){return null==e?void 0===e?te:ee:ne&&ne in Object(e)?function(e){var t=Q.call(e,X),n=e[X];try{e[X]=void 0;var r=!0}catch(e){}var o=$.call(e);return r&&(t?e[X]=n:delete e[X]),o}(e):function(e){return Z.call(e)}(e)}(e)!=oe)return!1;var t=re(e);if(null===t)return!0;var n=ae.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ie.call(n)==ce}function s(e,t,n){c(e)||o(n+"() in "+t+" must return a plain object. Instead received "+e+".")}function f(e){return function(t,n){function r(){return o}var o=e(t,n);return r.dependsOnOwnProps=!1,r}}function l(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function p(e,t){return function(n,r){var o=r.displayName,u=function(e,t){return u.dependsOnOwnProps?u.mapToProps(e,t):u.mapToProps(e)};return u.dependsOnOwnProps=!0,u.mapToProps=function(n,r){u.mapToProps=e,u.dependsOnOwnProps=l(e);var d=u(n,r);return"function"==typeof d&&(u.mapToProps=d,u.dependsOnOwnProps=l(d),d=u(n,r)),s(d,o,t),d},u}}function h(e,t,n){return O({},n,e,t)}function b(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||o("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function y(e,t,n,r,o){var u=o.areStatesEqual,d=o.areOwnPropsEqual,i=o.areStatePropsEqual,a=!1,c=void 0,s=void 0,f=void 0,l=void 0,p=void 0;return function(o,h){return a?function(o,a){var h=!d(a,s),b=!u(o,c);return c=o,s=a,h&&b?(f=e(c,s),t.dependsOnOwnProps&&(l=t(r,s)),p=n(f,l,s)):h?(e.dependsOnOwnProps&&(f=e(c,s)),t.dependsOnOwnProps&&(l=t(r,s)),p=n(f,l,s)):b?function(){var t=e(c,s),r=!i(t,f);return f=t,r&&(p=n(f,l,s)),p}():p}(o,h):(c=o,s=h,f=e(c,s),l=t(r,s),p=n(f,l,s),a=!0,p)}}function v(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+(void 0===e?"undefined":x(e))+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}var g=function(e){return e&&e[0]||null};r.isRequired=r;var m=function(){return r},_=m(),w=m(),x="function"==typeof C&&"symbol"==typeof C.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof C&&e.constructor===C&&e!==C.prototype?"symbol":typeof e},S=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},j=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},k=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},P=!1,T=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",r=arguments[1]||n+"Subscription",u=function(e){function t(r,o){S(this,t);var u=k(this,e.call(this,r,o));return u[n]=r.store,u}return E(t,e),t.prototype.getChildContext=function(){var e;return e={},e[n]=this[n],e[r]=null,e},t.prototype.render=function(){return g(this.props.children)},t}(t.Component);return u.prototype.componentWillReceiveProps=function(e){this[n]!==e.store&&(P||(P=!0,o("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions.")))},u.childContextTypes=(e={},e[n]=w.isRequired,e[r]=_,e),u}(),N={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},A={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},M=Object.defineProperty,D=Object.getOwnPropertyNames,R=Object.getOwnPropertySymbols,I=Object.getOwnPropertyDescriptor,U=Object.getPrototypeOf,L=U&&U(Object),F=function e(t,n,r){if("string"!=typeof n){if(L){var o=U(n);o&&o!==L&&e(t,o,r)}var u=D(n);R&&(u=u.concat(R(n)));for(var d=0;d<u.length;++d){var i=u[d];if(!(N[i]||A[i]||r&&r[i])){var a=I(n,i);try{M(t,i,a)}catch(e){}}}return t}return t},B=function(){},H={notify:function(){}},W=function(){function e(t,n,r){S(this,e),this.store=t,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=H}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var e=[],t=[];return{clear:function(){t=null,e=null},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&null!==e&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=H)},e}(),q=0,z={},G=Object.prototype.hasOwnProperty,V="object"==(void 0===e?"undefined":x(e))&&e&&e.Object===Object&&e,K="object"==("undefined"==typeof self?"undefined":x(self))&&self&&self.Object===Object&&self,Y=(V||K||Function("return this")()).Symbol,J=Object.prototype,Q=J.hasOwnProperty,$=J.toString,X=Y?Y.toStringTag:void 0,Z=Object.prototype.toString,ee="[object Null]",te="[object Undefined]",ne=Y?Y.toStringTag:void 0,re=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),oe="[object Object]",ue=Function.prototype,de=Object.prototype,ie=ue.toString,ae=de.hasOwnProperty,ce=ie.call(Object),se=[function(e){return"function"==typeof e?p(e,"mapDispatchToProps"):void 0},function(e){return e?void 0:f(function(e){return{dispatch:e}})},function(e){return e&&"object"===(void 0===e?"undefined":x(e))?f(function(t){return n.bindActionCreators(e,t)}):void 0}],fe=[function(e){return"function"==typeof e?p(e,"mapStateToProps"):void 0},function(e){return e?void 0:f(function(){return{}})}],le=[function(e){return"function"==typeof e?function(e){return function(t,n){var r=n.displayName,o=n.pure,u=n.areMergedPropsEqual,d=!1,i=void 0;return function(t,n,a){var c=e(t,n,a);return d?o&&u(c,i)||(i=c):(d=!0,s(i=c,r,"mergeProps")),i}}}(e):void 0},function(e){return e?void 0:function(){return h}}];return{Provider:T,connect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?d:t,r=e.mapStateToPropsFactories,o=void 0===r?fe:r,u=e.mapDispatchToPropsFactories,i=void 0===u?se:u,c=e.mergePropsFactories,s=void 0===c?le:c,f=e.selectorFactory,l=void 0===f?function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,u=j(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),d=n(e,u),i=r(e,u),a=o(e,u);return function(e,t,n,r){b(e,"mapStateToProps",r),b(t,"mapDispatchToProps",r),b(n,"mergeProps",r)}(d,i,a,u.displayName),(u.pure?y:function(e,t,n,r){return function(o,u){return n(e(o,u),t(r,u),u)}})(d,i,a,e,u)}:f;return function(e,t,r){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=u.pure,c=void 0===d||d,f=u.areStatesEqual,p=void 0===f?function(e,t){return e===t}:f,h=u.areOwnPropsEqual,b=void 0===h?a:h,y=u.areStatePropsEqual,g=void 0===y?a:y,m=u.areMergedPropsEqual,_=void 0===m?a:m,w=j(u,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),x=v(e,o,"mapStateToProps"),S=v(t,i,"mapDispatchToProps"),E=v(r,s,"mergeProps");return n(l,O({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:S,initMergeProps:E,pure:c,areStatesEqual:p,areOwnPropsEqual:b,areStatePropsEqual:g,areMergedPropsEqual:_},w))}}(),connectAdvanced:d}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),ne=ne.exports;var re={},oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ue=g.h,de=g.Component,ie=ne.connect,ae=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,de),oe(t,[{key:"render",value:function(){var e=this;return ue("div",{class:"t-inputForm__wrapper"},ue("form",{class:"t-inputForm__form","data-role":"chat-form",onSubmit:function(t){return e.handleSubmit(t)}},ue("input",{class:"t-inputForm__input","data-role":"chat-input",placeholder:"Type a message...",ref:function(t){e.input=t},type:"text"}),ue("button",{class:"t-global__button","data-role":"chat-submit",title:"Send message"},"\u2714\ufe0f")))}},{key:"componentDidMount",value:function(){this.input.focus()}},{key:"shouldComponentUpdate",value:function(e){return e.messages.length!==this.props.messages.length}},{key:"componentDidUpdate",value:function(){this.input.focus()}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.input.value;t&&t.split("").some(function(e){return/\S/.test(e)})&&(this.props.onSubmit(t),this.input.value="")}}]),t}();ae.displayName="InputForm",ae.defaultProps={onSubmit:Function.prototype,onErase:Function.prototype,messages:[]},(re=ie(function(e){return{messages:e.messages}},function(e){return{onSubmit:function(t){e(v(t))}}})(ae)).InputForm=ae;var ce={};(function(e){var t=e.location||{},n=function(){function e(e,t){return document.createTextNode(t?e.replace(s,""):e)}function t(e){return e.replace(l,o)}function n(e,t){for(var r,o,u=e.childNodes,d=u.length;d--;)3===(o=(r=u[d]).nodeType)?t.push(r):1!==o||"ownerSVGElement"in r||p.test(r.nodeName.toLowerCase())||n(r,t);return t}function r(e){return d(e.indexOf(f)<0?e.replace(s,""):e)}function o(e){return a[e]}function u(e,t){return String(e).replace(c,t)}function d(e,t){for(var n=[],r=0,o=0,u=0;u<e.length;)r=e.charCodeAt(u++),o?(n.push((65536+(o-55296<<10)+(r-56320)).toString(16)),o=0):55296<=r&&r<=56319?o=r:n.push(r.toString(16));return n.join(t||"-")}var i={base:"https://twemoji.maxcdn.com/2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(e){var t="string"==typeof e?parseInt(e,16):e;return t<65536?h(t):(t-=65536,h(55296+(t>>10),56320+(1023&t)))},toCodePoint:d},onerror:function(){this.parentNode&&this.parentNode.replaceChild(e(this.alt,!1),this)},parse:function(o,d){return d&&"function"!=typeof d||(d={callback:d}),("string"==typeof o?function(e,n){return u(e,function(e){var o,u,d=e,i=r(e),a=n.callback(i,n);if(a){d="<img ".concat('class="',n.className,'" ','draggable="false" ','alt="',e,'"',' src="',a,'"'),o=n.attributes(e,i);for(u in o)o.hasOwnProperty(u)&&0!==u.indexOf("on")&&-1===d.indexOf(" "+u+"=")&&(d=d.concat(" ",u,'="',t(o[u]),'"'));d=d.concat("/>")}return d})}:function(t,o){for(var u,d,i,a,s,f,l,p,h,b,y,v,g,m=n(t,[]),_=m.length;_--;){for(i=!1,a=document.createDocumentFragment(),f=(s=m[_]).nodeValue,p=0;l=c.exec(f);){if((h=l.index)!==p&&a.appendChild(e(f.slice(p,h),!0)),y=l[0],v=r(y),p=h+y.length,g=o.callback(v,o)){(b=new Image).onerror=o.onerror,b.setAttribute("draggable","false"),u=o.attributes(y,v);for(d in u)u.hasOwnProperty(d)&&0!==d.indexOf("on")&&!b.hasAttribute(d)&&b.setAttribute(d,u[d]);b.className=o.className,b.alt=y,b.src=g,i=!0,a.appendChild(b)}b||a.appendChild(e(y,!1)),b=null}i&&(p<f.length&&a.appendChild(e(f.slice(p),!0)),s.parentNode.replaceChild(a,s))}return t})(o,{callback:d.callback||function(e,t){return"".concat(t.base,t.size,"/",e,t.ext)},attributes:"function"==typeof d.attributes?d.attributes:function(){return null},base:"string"==typeof d.base?d.base:i.base,ext:d.ext||i.ext,size:d.folder||function(e){return"number"==typeof e?e+"x"+e:e}(d.size||i.size),className:d.className||i.className,onerror:d.onerror||i.onerror})},replace:u,test:function(e){c.lastIndex=0;var t=c.test(e);return c.lastIndex=0,t}},a={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},c=/\ud83d[\udc68-\udc69](?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92])|(?:\ud83c[\udfcb\udfcc]|\ud83d\udd75|\u26f9)(?:\ufe0f|\ud83c[\udffb-\udfff])\u200d[\u2640\u2642]\ufe0f|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd37-\udd39\udd3d\udd3e\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|(?:[\u0023\u002a\u0030-\u0039])\ufe0f?\u20e3|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddd1-\udddd]|[\u270a\u270b])(?:\ud83c[\udffb-\udfff]|)|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud800\udc00|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef8]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd4c\udd50-\udd6b\udd80-\udd97\uddc0\uddd0\uddde-\udde6]|[\u23e9-\u23ec\u23f0\u23f3\u2640\u2642\u2695\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a]|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u00a9\u00ae\u203c\u2049\u2122\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2694\u2696\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))/g,s=/\uFE0F/g,f=String.fromCharCode(8205),l=/[&<>'"]/g,p=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,h=String.fromCharCode;return i}();t.protocol||(n.base=n.base.replace(/^http:/,"")),ce=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var se=g.h,fe=function(e){var t=e.children,n=e.escape,r=void 0===n||n?t[0].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t[0];return se("span",{dangerouslySetInnerHTML:{__html:ce.parse(r,{className:"t-enhancedText__emoji"})}})},le={},pe=g.h,he=ne.connect,be=function(e){var t=e.children,n=void 0===t?[]:t,r=e.onClick,o=void 0===r?Function.prototype:r;return pe("button",{class:"t-global__button t-global__button_postback","data-role":"postback-button",onClick:o.bind(null,n[0])},n[0])};(le=he(function(e,t){return t},function(e){return{onClick:function(t){e(v(t))}}})(be)).PostbackButton=be;var ye=function(e,t){if(Array.isArray(e))return e;if(C.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var d,i=e[C.iterator]();!(r=(d=i.next()).done)&&(n.push(d.value),!t||n.length!==t);r=!0);}catch(e){o=!0,u=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw u}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ve=g.h,ge=function(e){var t=e.children,n=void 0===t?[]:t,r=e.onUpdate,o=void 0===r?Function.prototype:r,u=e.type,d=void 0===u?"text":u,i=e.source;return ve("span",{class:"t-messageBody__container t-messageBody__container_"+i},function(){var e=ye(n,1)[0];switch(d){case"text":return e?ve(fe,{escape:"bot"!==i},e):null;case"image":return ve("img",{class:"t-messageBody__image",onLoad:o,src:e});case"buttons":return ve("div",null,e.text?ve("p",{class:"t-messageBody__buttonText","data-role":"postback-text"},ve(fe,{escape:"bot"!==i},e.text)):null,ve("ul",{class:"t-messageBody__buttons"},(e.buttons||n).map(function(e,t){return ve("li",{class:"t-messageBody__button",key:t},ve(le,null,e))})));default:return null}}())},me={},_e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),we=g.Component,xe=g.h,Se=ne.connect,Oe=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,we),_e(t,[{key:"render",value:function(){var e=this,t=[].concat(d(this.props.leading),d(this.props.messages));return xe("div",{class:"t-messageList__wrapper"},xe("ul",{class:"t-messageList__list","data-role":"message-list",ref:function(t){e.wrapper=t},style:{"overflow-y":"scroll"}},t.map(function(t,n){return xe("li",{class:"t-messageList__message t-messageList__message_"+t.source,"data-role":"message","data-source":t.source,key:n},xe(ge,{onUpdate:function(){return e.scrollToBottom()},type:t.type,source:t.source},t.payload))})))}},{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"scrollToBottom",value:function(){this.wrapper.scrollTop=this.wrapper.scrollHeight}}]),t}();Oe.displayName="MessageList",Oe.defaultProps={messages:[],leading:[]},(me=Se(function(e,t){var n=e.messages;return Object.assign({},t,{messages:n})},function(e){return{handleClick:function(t){e(v(t))}}})(Oe)).MessageList=Oe;var Ee={},Ce=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),je=g.h,ke=g.Component,Pe=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,ke),Ce(t,[{key:"componentWillMount",value:function(){if(!this.props.noStyles){var e=document.createElement("style");e.innerHTML=this.props.theme,e.innerHTML+=":root {\n  --spacing-extra-small: 0.25em;\n  --spacing-small: 0.5em;\n  --spacing-medium: 1em;\n  --spacing-large: 2em;\n  --spacing-extra-large: 4em;\n  --border-radius: 3px;\n}\n\n.t-global__body {\n  padding: 0;\n  margin: 0;\n}\n\n.t-global__host {\n  font-size: var(--font-size);\n  font-family:\n    -apple-system,\n    BlinkMacSystemFont,\n    'avenir next',\n    avenir,\n    'helvetica neue',\n    helvetica,\n    ubuntu,\n    roboto,\n    noto,\n    'segoe ui',\n    arial,\n    sans-serif;\n  margin: auto;\n  border-radius: var(--borderRadius);\n}\n\n.t-global__host * {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\n.t-global__host li {\n  list-style-type: none;\n}\n\n.t-global__host button,\n.t-global__host input {\n  font-size: inherit;\n}\n\n.t-global__button {\n  border: none;\n  text-transform: uppercase;\n  min-width: var(--spacing-extra-large);\n  background-color: var(--main-color);\n  color: white;\n  font-weight: bold;\n  padding: var(--spacing-medium);\n  cursor: pointer;\n}\n\n.t-global__button_postback {\n  width: 100%;\n  border-radius: var(--border-radius);\n  background-color: var(--accent-color);\n}\n\n.t-topBar__wrapper {\n  background-color: white;\n  text-align: right;\n  border-bottom: 1px solid var(--accent-color);\n}\n\n.t-topBar__button {\n  display: inline-block;\n  border: none;\n  background-color: var(--background-color);\n  padding: var(--spacing-small) var(--spacing-medium);\n  cursor: pointer;\n}\n\n.t-inputForm__wrapper {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.t-inputForm__form {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n  margin-right: var(--border-radius);\n  margin-bottom: 0;\n}\n\n.t-inputForm__input {\n  -webkit-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n  padding-left: var(--spacing-medium);\n  margin-right: var(--border-radius);\n  border: none;\n  border-bottom: 1px solid var(--accent-color);\n}\n\n.t-inputForm__input:focus {\n  outline: none;\n}\n\n.t-messageList__wrapper {\n  position: relative;\n}\n\n.t-messageList__wrapper::before {\n  content: '';\n  padding-top: var(--container-ratio);\n  display: block;\n}\n\n.t-messageList__list {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: var(--background-color);\n  padding: var(--spacing-large) 0;\n  margin: 0;\n}\n\n.t-messageList__message_user {\n  text-align: right;\n}\n\n.t-messageBody__container {\n  max-width: 75%;\n  position: relative;\n  display: inline-block;\n  background-color: white;\n  padding: var(--spacing-medium);\n  margin: var(--spacing-small) var(--spacing-medium);\n  border-radius: var(--spacing-extra-small);\n  word-break: break-word;\n  -webkit-box-shadow: 0 var(--spacing-extra-small) 8px #b3b3b3;\n          box-shadow: 0 var(--spacing-extra-small) 8px #b3b3b3;\n}\n\n.t-messageBody__image {\n  width: 100%;\n  height: auto;\n}\n\n.t-messageBody__container::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  width: 0;\n  border: 15px solid transparent;\n  border-top: 0;\n}\n\n.t-messageBody__container_user {\n  background-color: var(--main-color);\n  color: white;\n}\n\n.t-messageBody__container_user::after {\n  right: -10px;\n  border-left-color: var(--main-color);\n  border-right: 0;\n}\n\n.t-messageBody__container_bot::after {\n  left: -10px;\n  border-right-color: white;\n  border-left: 0;\n}\n\n.t-messageBody__buttons {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  overflow: hidden;\n  margin: 0;\n  padding: 0;\n}\n\n.t-messageBody__button {\n  margin-right: var(--spacing-extra-small);\n  margin-bottom: var(--spacing-extra-small);\n  -webkit-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n}\n\n.t-messageBody__button:last-child {\n  margin-right: 0;\n}\n\n.t-messageBody__buttonText {\n  margin: 0 0 var(--spacing-small) 0;\n}\n\n.t-enhancedText__emoji {\n  height: 1em;\n  width: 1em;\n  margin: 0 0.05em 0 0.1em;\n  vertical-align: -0.1em;\n}\n",(this.props.host||document.body).ownerDocument.head.appendChild(e)}}},{key:"render",value:function(){return je("div",{class:"t-global__host"},this.props.children)}}]),t}();Pe.defaultProps={host:null,noStyles:!1,theme:""},Ee=Pe;var Te={},Ne=g.h,Ae=ne.connect,Me=function(e){var t=e.onErase;return Ne("div",{class:"t-topBar__wrapper"},Ne("button",{class:"t-topBar__button","data-role":"chat-erase",onClick:t,title:"Clear chat history and delete cookies"},"Clear chat"))};(Te=Ae(null,function(e){return{onErase:function(){e(function(e,t,n){return e({type:"ERASE_HISTORY_REQUEST"}),n.delete().then(function(){e({type:"ERASE_HISTORY_SUCCESS"})},function(t){e({type:"ERASE_HISTORY_ERROR",payload:t,error:!0})})})}}})(Me)).TopBar=Me;var De,Re,Ie={},Ue=Ie={};!function(){try{De="function"==typeof setTimeout?setTimeout:i}catch(e){De=i}try{Re="function"==typeof clearTimeout?clearTimeout:a}catch(e){Re=a}}();var Le,Fe=[],Be=!1,He=-1;Ue.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Fe.push(new l(e,t)),1!==Fe.length||Be||c(f)},l.prototype.run=function(){this.fun.apply(null,this.array)},Ue.title="browser",Ue.browser=!0,Ue.env={},Ue.argv=[],Ue.version="",Ue.versions={},Ue.on=p,Ue.addListener=p,Ue.once=p,Ue.off=p,Ue.removeListener=p,Ue.removeAllListeners=p,Ue.emit=p,Ue.prependListener=p,Ue.prependOnceListener=p,Ue.listeners=function(e){return[]},Ue.binding=function(e){throw new Error("process.binding is not supported")},Ue.cwd=function(){return"/"},Ue.chdir=function(e){throw new Error("process.chdir is not supported")},Ue.umask=function(){return 0};Array.isArray;var We=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},qe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ze=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},Ge={};Ge.stringify=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?h(ze(e),function(r){var o=encodeURIComponent(We(r))+n;return qe(e[r])?h(e[r],function(e){return o+encodeURIComponent(We(e))}).join(t):o+encodeURIComponent(We(e[r]))}).join(t):r?encodeURIComponent(We(r))+n+encodeURIComponent(We(e)):""};for(var Ve=[],Ke=0;Ke<256;++Ke)Ve[Ke]=(Ke+256).toString(16).substr(1);var Ye={},Je="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(Je){var Qe=new Uint8Array(16);Ye=function(){return Je(Qe),Qe}}else{var $e=new Array(16);Ye=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),$e[t]=e>>>((3&t)<<3)&255;return $e}}var Xe=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||Ye)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var u=0;u<16;++u)t[r+u]=o[u];return t||function(e,t){var n=t||0,r=Ve;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}(o)},Ze={};(function(e){var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=e.env.API_BASE||"https://taell-go.herokuapp.com",r=function(){function e(t,r,o){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var u=Ge.stringify({access_key:t});this.url=n+"/"+r+"/web?"+u,o&&(this.sessionId=Xe())}return t(e,[{key:"submit",value:function(e){var t={body:e};return this.sessionId&&Object.assign(t,{user_id:this.sessionId}),fetch(this.url,{method:"POST",body:JSON.stringify(t),credentials:"include"}).then(function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})}},{key:"delete",value:function(){return this.sessionId&&(this.sessionId=Xe()),fetch(this.url,{method:"DELETE",credentials:"include"}).then(function(e){if(!e.ok)throw new Error(e.statusText);return null})}}]),e}();Ze=r}).call(this,Ie);var et=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),tt=function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.key=t}return et(e,[{key:"get",value:function(){if(null===this.key)return{};try{var e=window.localStorage.getItem(this.key);return e?JSON.parse(e):{}}catch(e){return{}}}},{key:"set",value:function(e){if(null!==this.key)try{window.localStorage.setItem(this.key,JSON.stringify(e))}catch(e){}}}]),e}(),nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"MESSAGE_SUBMISSION":return[].concat(b(e),[Object.assign({source:"user"},t.payload)]);case"SEND_MESSAGE_SUCCESS":var n=t.payload.map(function(e){return Object.assign({source:"bot"},e)});return[].concat(b(e),b(n));case"ERASE_HISTORY_REQUEST":return[];default:return e}},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case"SEND_MESSAGE_REQUEST":return!0;case"SEND_MESSAGE_ERROR":case"SEND_MESSAGE_SUCCESS":return!1;default:return e}},ot={exports:{}};(function(e){!function(e,t){"object"==typeof ot.exports?t(ot.exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.reduxLogger=e.reduxLogger||{})}(this,function(t){function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,n){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function u(e,t){u.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function d(e,t){d.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function a(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t=void 0===e?"undefined":S(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function s(e,t,n,r,f,l,p){f=f||[],p=p||[];var h=f.slice(0);if(void 0!==l){if(r){if("function"==typeof r&&r(h,l))return;if("object"===(void 0===r?"undefined":S(r))){if(r.prefilter&&r.prefilter(h,l))return;if(r.normalize){var b=r.normalize(h,l,e,t);b&&(e=b[0],t=b[1])}}}h.push(l)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var y=void 0===e?"undefined":S(e),v=void 0===t?"undefined":S(t),g="undefined"!==y||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(l),m="undefined"!==v||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(l);if(!g&&m)n(new u(h,t));else if(!m&&g)n(new d(h,e));else if(c(e)!==c(t))n(new o(h,e,t));else if("date"===c(e)&&e-t!=0)n(new o(h,e,t));else if("object"===y&&null!==e&&null!==t)if(p.filter(function(t){return t.lhs===e}).length)e!==t&&n(new o(h,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var _;for(e.length,_=0;_<e.length;_++)_>=t.length?n(new i(h,_,new d(void 0,e[_]))):s(e[_],t[_],n,r,h,_,p);for(;_<t.length;)n(new i(h,_,new u(void 0,t[_++])))}else{var w=Object.keys(e),x=Object.keys(t);w.forEach(function(o,u){var d=x.indexOf(o);d>=0?(s(e[o],t[o],n,r,h,o,p),x=a(x,d)):s(e[o],void 0,n,r,h,o,p)}),x.forEach(function(e){s(void 0,t[e],n,r,h,e,p)})}p.length=p.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||n(new o(h,e,t)))}function f(e,t,n,r){return r=r||[],s(e,t,function(e){e&&r.push(e)},n),r.length?r:void 0}function l(e,t,n){if(n.path&&n.path.length){var r,o=e[t],u=n.path.length-1;for(r=0;r<u;r++)o=o[n.path[r]];switch(n.kind){case"A":l(o[n.path[r]],n.index,n.item);break;case"D":delete o[n.path[r]];break;case"E":case"N":o[n.path[r]]=n.rhs}}else switch(n.kind){case"A":l(e[t],n.index,n.item);break;case"D":e=a(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function p(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,o=-1,u=n.path?n.path.length-1:0;++o<u;)void 0===r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":l(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function h(e,t,n){if(n.path&&n.path.length){var r,o=e[t],u=n.path.length-1;for(r=0;r<u;r++)o=o[n.path[r]];switch(n.kind){case"A":h(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=a(e,t)}return e}function b(e,t,n,r){switch(void 0===e?"undefined":S(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,O(n)):e[r];case"function":return e(t);default:return e}}function y(e,t){var n=t.logger,r=t.actionTransformer,o=t.titleFormatter,u=void 0===o?function(e){var t=e.timestamp,n=e.duration;return function(e,r,o){var u=["action"];return u.push("%c"+String(e.type)),t&&u.push("%c@ "+r),n&&u.push("%c(in "+o.toFixed(2)+" ms)"),u.join(" ")}}(t):o,d=t.collapsed,i=t.colors,a=t.level,c=t.diff,s=void 0===t.titleFormatter;e.forEach(function(o,l){var p=o.started,h=o.startedTime,y=o.action,v=o.prevState,g=o.error,m=o.took,_=o.nextState,x=e[l+1];x&&(_=x.prevState,m=x.started-p);var S=r(y),E="function"==typeof d?d(function(){return _},y,o):d,C=w(h),k=i.title?"color: "+i.title(S)+";":"",P=["color: gray; font-weight: lighter;"];P.push(k),t.timestamp&&P.push("color: gray; font-weight: lighter;"),t.duration&&P.push("color: gray; font-weight: lighter;");var T=u(S,C,m);try{E?i.title&&s?n.groupCollapsed.apply(n,["%c "+T].concat(P)):n.groupCollapsed(T):i.title&&s?n.group.apply(n,["%c "+T].concat(P)):n.group(T)}catch(e){n.log(T)}var N=b(a,S,[v],"prevState"),A=b(a,S,[S],"action"),M=b(a,S,[g,v],"error"),D=b(a,S,[_],"nextState");if(N)if(i.prevState){var R="color: "+i.prevState(v)+"; font-weight: bold";n[N]("%c prev state",R,v)}else n[N]("prev state",v);if(A)if(i.action){var I="color: "+i.action(S)+"; font-weight: bold";n[A]("%c action    ",I,S)}else n[A]("action    ",S);if(g&&M)if(i.error){var U="color: "+i.error(g,v)+"; font-weight: bold;";n[M]("%c error     ",U,g)}else n[M]("error     ",g);if(D)if(i.nextState){var L="color: "+i.nextState(_)+"; font-weight: bold";n[D]("%c next state",L,_)}else n[D]("next state",_);c&&function(e,t,n,r){var o=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}o?o.forEach(function(e){var t=e.kind,r=function(e){var t=e.kind,n=e.path,r=e.lhs,o=e.rhs,u=e.index,d=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",o];case"N":return[n.join("."),o];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+u+"]",d];default:return[]}}(e);n.log.apply(n,["%c "+j[t].text,"color: "+j[t].color+"; font-weight: bold"].concat(O(r)))}):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}(v,_,n,E);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},k,e),n=t.logger,r=t.stateTransformer,o=t.errorTransformer,u=t.predicate,d=t.logErrors,i=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var a=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof u&&!u(n,c))return e(c);var s={};a.push(s),s.started=x.now(),s.startedTime=new Date,s.prevState=r(n()),s.action=c;var f=void 0;if(d)try{f=e(c)}catch(e){s.error=o(e)}else f=e(c);s.took=x.now()-s.started,s.nextState=r(n());var l=t.diff&&"function"==typeof i?i(n,c):t.diff;if(y(a,Object.assign({},t,{diff:l})),a.length=0,s.error)throw s.error;return f}}}}var g,m,_=function(e,t){return function(e,t){return new Array(t+1).join("0")}(0,t-e.toString().length)+e},w=function(e){return _(e.getHours(),2)+":"+_(e.getMinutes(),2)+":"+_(e.getSeconds(),2)+"."+_(e.getMilliseconds(),3)},x="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,S="function"==typeof C&&"symbol"==typeof C.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof C&&e.constructor===C&&e!==C.prototype?"symbol":typeof e},O=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},E=[];g="object"===(void 0===e?"undefined":S(e))&&e?e:"undefined"!=typeof window?window:{},(m=g.DeepDiff)&&E.push(function(){void 0!==m&&g.DeepDiff===f&&(g.DeepDiff=m,m=void 0)}),n(o,r),n(u,r),n(d,r),n(i,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:s,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&s(e,t,function(r){n&&!n(e,t,r)||p(e,t,r)})},enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,o,u=e;for(o=n.path.length-1,r=0;r<o;r++)void 0===u[n.path[r]]&&(u[n.path[r]]={}),u=u[n.path[r]];switch(n.kind){case"A":h(u[n.path[r]],n.index,n.item);break;case"D":case"E":u[n.path[r]]=n.lhs;break;case"N":delete u[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==m},enumerable:!0},noConflict:{value:function(){return E&&(E.forEach(function(e){e()}),E=null),f},enumerable:!0}});var j={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},k={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?v()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=k,t.createLogger=v,t.logger=P,t.default=P,Object.defineProperty(t,"__esModule",{value:!0})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),ot=ot.exports;var ut={},dt=y();dt.withExtraArgument=y,ut.default=dt;var it=g.h,at=g.render,ct=Q.createStore,st=Q.combineReducers,ft=Q.applyMiddleware,lt=ut.default,pt=(ot.default,ne.Provider),ht={};(function(e){var t=e.env.IFRAME_URL||"https://taell-go.herokuapp.com/cookie-support",n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Function.prototype;return function(){var t=e()||Function.prototype,n=new Promise(function(e){navigator.cookieEnabled?(setTimeout(function(){e(!1)},2500),window.addEventListener("message",function(t){"taell:3pc:supported"===t.data?e(!0):"taell:3pc:unsupported"===t.data&&e(!1)},!1)):e(!1)});return n.then(function(){return t()}),n}};(ht=n(function(){var e=document.createElement("iframe");return e.src=t,e.setAttribute("height","0px"),e.setAttribute("width","0px"),e.setAttribute("frameborder","0"),document.body.appendChild(e),function(){return document.body.removeChild(e)}})).withSetup=n}).call(this,Ie);document.addEventListener("DOMContentLoaded",function(){Array.prototype.forEach.call(document.querySelectorAll(".taell-chat")||[],function(e){var t=void 0,n=void 0,r=e,o="noStyles"in e.dataset;o||((t=document.createElement("div")).style.position="relative",t.style.width="100%",(n=document.createElement("iframe")).style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.left="0",n.style.right="0",n.setAttribute("frameborder","0"),n.setAttribute("scrolling","no"),t.appendChild(n),e.appendChild(t)),setTimeout(function(){o||(r=n.contentDocument.body).classList.add("t-global__body"),ht().then(function(u){(function(e){var t=e.accentColor,n=e.accessKey,r=e.backgroundColor,o=e.bot,u=e.containerRatio,d=e.fontSize,i=e.host,a=e.mainColor,c=e.noStyles,s=e.useSessionId,f=e.welcome,l=s?null:"taell-"+o+"-"+n,p=new Ze(n,o,s),h=new tt(l),b=[lt.withExtraArgument(p),function(e){return function(t){return function(n){return function(r){n(r),e.set(t.getState())}}}}(h)],y=ct(st({messages:nt,typing:rt}),h.get(),ft.apply(void 0,b)),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mainColor,n=void 0===t?"#737373":t,r=e.accentColor,o=void 0===r?"#999999":r,u=e.backgroundColor,d=void 0===u?"#f3f3f3":u,i=e.fontSize,a=void 0===i?"14px":i,c=e.containerRatio;return"\n  :root {\n    --main-color: "+n+";\n    --accent-color: "+o+";\n    --background-color: "+d+";\n    --font-size: "+a+";\n    --container-ratio: "+(void 0===c?"133%":c)+";\n  }\n"}({accentColor:t,backgroundColor:r,containerRatio:u,fontSize:d,mainColor:a});at(it(pt,{store:y},it(Ee,{theme:v,host:i,noStyles:!!c},it(Te,null),it(me,{leading:f?[{type:"text",payload:f,source:"bot"}]:[]}),it(re,null))),i)})(Object.assign({host:r,useSessionId:!u},e.dataset,{noStyles:o})),t&&n&&(t.style.height=r.scrollHeight+"px",window.addEventListener("resize",function(){t.style.height=r.scrollHeight+"px"}))})},0)})})}();
